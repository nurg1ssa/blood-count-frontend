<div class="w-full min-h-screen bg-white">
  <div class="py-5 md:py-7 px-4 md:px-16 xl:px-28">
    <div class="text-2xl md:text-4xl font-normal p-1 md:p-5">
      User Profile
    </div>
    <hr class="mt-4 border-black">
    <div class="my-6 md:mt-8">
      <!-- Profile Information -->
      <div class="mb-6">
        <div class="text-xl md:text-2xl font-medium mb-2">Personal Information</div>
        <div class="flex flex-row gap-2">
          <div class="text-lg font-medium">Name:</div>
          <div class="text-lg">Nursultan Nazarbayev</div>
        </div>
        <div class="flex flex-row gap-2">
          <div class="text-lg font-medium">Email:</div>
          <div class="text-lg">nursultan@example.com</div>
        </div>
        <div>
          <div *ngIf="!emailChange" class="cursor-pointer inline-block text-blue-500 select-none"
            (click)="onChangeEmail()">Change email</div>
          <div *ngIf="emailChange" class="cursor-pointer inline-block text-red-500 select-none"
            (click)="onChangeEmail()">Cancel</div>
          <form *ngIf="emailChange" [formGroup]="emailForm">
            <div class="flex gap-3">
              <input id="current-email" type="email" formControlName="newEmail" class="pr-36 border text-lg"
                placeholder="Enter new email" required>
              <div (click)="changeEmail()"
                class="px-3 border text-center cursor-pointer select-none bg-gray-500 text-white text-lg font-medium">
                Change email</div>
            </div>
            <app-error-message *ngIf="formSubmitAttempt && emailChange"
              [isInvalidEmail]="isFieldInvalid('newEmail')"></app-error-message>
          </form>
        </div>
        <div class="flex justify-start mt-4">
          <div (click)="onHistory()"
            class="px-3 border text-center cursor-pointer select-none bg-gray-500 text-white text-lg font-medium">
            View History
          </div>
        </div>
      </div>
      <hr class="mt-4 border-black">
      <!-- Change Password Form -->
      <div class="flex flex-col gap-2 md:mt-8">
        <div class="text-xl md:text-2xl font-medium ">Change Password</div>
        <form class="flex flex-col gap-2" [formGroup]="passwordForm">
          <div class="flex flex-col gap-2">
            <label for="current-password" class="w-full md:w-1/3 text-lg font-medium">Current Password:</label>
            <div class="w-full md:w-2/3">
              <input id="current-password" type="password" formControlName="currentPassword"
                class="pr-36 border text-lg" placeholder="Enter current password" required>
            </div>
            <label for="new-password" class="w-full md:w-1/3 text-lg font-medium">New Password:</label>
            <div>
              <div>
                <input id="new-password" type="password" formControlName="newPassword" class="pr-36 border text-lg"
                  placeholder="Enter new password" required>
              </div>
              <app-error-message *ngIf="formSubmitAttempt"
                [isInvalidPassword]="isFieldInvalid('newPassword')"></app-error-message>
            </div>
            <label for="confirm-password" class="w-full md:w-1/3 text-lg font-medium">Confirm Password:</label>
            <div>
              <div>
                <input id="confirm-password" formControlName="confirmPassword" type="password"
                  class="pr-36 border text-lg" placeholder="Confirm new password" required>
              </div>
              <div
                *ngIf="passwordForm.hasError('passwordMismatch') && passwordForm.get('confirmPassword').value !== ''">
                <app-error-message *ngIf="formSubmitAttempt" [passwordMissMatch]="true"></app-error-message>
              </div>
              <app-error-message *ngIf="formSubmitAttempt"
                [isInvalidConfirmPassword]="isFieldInvalid('confirmPassword')"></app-error-message>
            </div>
          </div>
          <div class="flex flex-col mt-2">
            <div class="text-xs text-gray-500">Make sure it's at least 15 characters OR at least 8 characters including
              a number and a lowercase letter</div>
            <div class="flex">
              <div (click)="changePassword()"
                class="px-3 border text-center cursor-pointer select-none bg-gray-500 text-white text-lg font-medium">
                Change Password
              </div>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>