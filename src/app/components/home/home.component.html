<app-white-box>
  <div class="text-2xl md:text-4xl font-normal">
    Blood Count test
  </div>
</app-white-box>
<app-white-box class="mt-3 flex">
  <div class="px-8 flex flex-col gap-4">
    <div class="text-xl md:text-2xl">Instructions</div>
    <div class="text-lg">
      Blood Count is a game in test format to establish the patience disease and provide right treatment.
    </div>
    <ol class="list-decimal mt-2 text-lg ml-6 md:ml-12">
      <li>There's no option to pause. Make sure you will not be interrupted for
        <u class="font-black">30 minutes<span class="material-symbols-outlined
           text-2xl lg:text-3xl inline-block font-semibold align-[-3px]">timer</span></u>.
      </li>
      <li>Clicking next means the section is finished and you are ready to continue. There is no option to go back.
      </li>
      <li>You cannot change language after starting the game.</li>
      <li>After finishing your test, you can receive comments from your teacher.</li>
    </ol>
  </div>
</app-white-box>
<app-white-box class="mt-3 flex">
  <div class="px-8 flex flex-col gap-5">
    <div class="text-xl md:text-2xl leading-7 md:leading-9">
      <div *ngIf="isTestFinished != 'IN_PROGRESS'">
        Before you begin:
        <div class="text-lg">
          see the <a class="inline-block align-baseline font-bold text-blue-500 hover:text-blue-800"
          routerLink="/table">
          reference table
        </a> of morphology and
          <span class="font-bold">select the case</span>
        </div>
      </div>
      <div class="mt-2 relative" [class.open]="onClick" [class.pointer-events-none]="isTestFinished == 'IN_PROGRESS'" >
        <input type="text" 
          class="w-full border cursor-pointer rounded py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline bg-white"
          placeholder="Select the case" (click)="toggleClick()" [class.rounded-t]="onClick" [class.rounded]="!onClick" c
          [value]="selectedOption" readonly>
        <span *ngIf="isTestFinished != 'IN_PROGRESS'"
          class="material-symbols-outlined text-xl font-bold transition duration-150 transform absolute right-3 top-1/2 -translate-y-1/2"
          [class.rotate-180]="onClick" [class.rotate-0]="!onClick" >
          expand_more
        </span>
        <ul
          class="absolute left-0 right-0 max-h-48 overflow-y-auto bg-white border rounded-b transition origin-top duration-150"
          [class.scale-y-0]="!onClick" [class.scale-y-100]="onClick">
          <li *ngFor="let option of dropdownOptions" class="py-2 px-3 cursor-pointer hover:bg-gray-100"
            (click)="selectOption(option.anemiaType,option.id)" [class.selected]="option === selectedOption">
            Case {{ option.id }}
          </li>
        </ul>
      </div>
    </div>
    <div class="flex justify-center lg:justify-end">
      <div class="px-3 py-2 border bg-gray-500 text-white text-xl rounded-md select-none cursor-pointer md:text-2xl" (click)="startTest()" *ngIf="isTestFinished != 'IN_PROGRESS'">
        Start test
      </div>
      <div class="px-3 py-2 border bg-gray-500 text-white text-xl rounded-md select-none cursor-pointer md:text-2xl" (click)="continueTest()" *ngIf="isTestFinished=='IN_PROGRESS'">
        Continue test
      </div>
    </div>
  </div>
</app-white-box>